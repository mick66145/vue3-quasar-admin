{
  "name": "è‡ªå‹•åŒ–æ–°å¢åŠŸèƒ½é–‹ç™¼æµç¨‹",
  "description": "æ ¹æ“š docs/api-spec ä¸‹çš„ API æ–‡ä»¶è¦ç¯„ï¼Œè‡ªå‹•é–‹ç™¼å‰ç«¯åŠŸèƒ½ã€å»ºç«‹åˆ†æ”¯ã€commit/push ä¸¦ç”¢ç”Ÿ PR",
  "steps": [
    {
      "name": "1. è®€å–é–‹ç™¼è¦ç¯„",
      "description": "è®€å–å°ˆæ¡ˆçš„é–‹ç™¼è¦ç¯„æ–‡ä»¶ï¼Œç¢ºä¿éµå¾ªå°ˆæ¡ˆæ¨™æº–",
      "run": [
        "cat ./docs/development-guidelines.md",
        "cat ./docs/development/feature-organization-guide.md"
      ]
    },
    {
      "name": "2. åˆ—å‡ºå¯ç”¨çš„ API æ–‡ä»¶",
      "description": "é¡¯ç¤º docs/api-spec ç›®éŒ„ä¸‹æ‰€æœ‰å¯ç”¨çš„ API åŠŸèƒ½æ¨¡çµ„",
      "run": [
        "echo '=== å¯ç”¨çš„ API åŠŸèƒ½æ¨¡çµ„ ==='",
        "ls -la ./docs/api-spec/",
        "echo ''",
        "echo 'è«‹é¸æ“‡è¦é–‹ç™¼çš„åŠŸèƒ½æ¨¡çµ„åç¨±'"
      ]
    },
    {
      "name": "3. è®€å– API æ–‡ä»¶",
      "description": "è®€å–é¸å®šåŠŸèƒ½æ¨¡çµ„çš„ SA (ç³»çµ±åˆ†æ) å’Œ SD (ç³»çµ±è¨­è¨ˆ) æ–‡ä»¶",
      "input": {
        "feature_name": "åŠŸèƒ½æ¨¡çµ„åç¨± (ä¾‹å¦‚: property-usage-category)"
      },
      "run": [
        "echo '=== è®€å– API æ–‡ä»¶ ==='",
        "echo 'åŠŸèƒ½æ¨¡çµ„: ${feature_name}'",
        "echo ''",
        "echo '--- ç³»çµ±åˆ†ææ–‡ä»¶ (SA) ---'",
        "cat ./docs/api-spec/${feature_name}/${feature_name}-sa.md",
        "echo ''",
        "echo '--- ç³»çµ±è¨­è¨ˆæ–‡ä»¶ (SD) ---'",
        "cat ./docs/api-spec/${feature_name}/${feature_name}-sd.md"
      ]
    },
    {
      "name": "4. ç¢ºèªé–‹ç™¼æ¨¡å¼",
      "description": "æ ¹æ“šåŠŸèƒ½è¤‡é›œåº¦é¸æ“‡æ¨¡çµ„åŒ–æˆ–éæ¨¡çµ„åŒ–é–‹ç™¼æ–¹å¼",
      "options": [
        {
          "name": "modular",
          "description": "æ¨¡çµ„åŒ–é–‹ç™¼ - é©ç”¨æ–¼è¤‡é›œåŠŸèƒ½ï¼Œæª”æ¡ˆæ”¾åœ¨ src/@core/modules/ ä¸‹",
          "structure": [
            "src/@core/modules/{feature}/api/restful/{feature}.js",
            "src/@core/modules/{feature}/models/modules/{Feature}Model.js",
            "src/@core/modules/{feature}/router/modules/{feature}.js",
            "src/@core/modules/{feature}/views/{feature}-list/",
            "src/locales/*.json"
          ]
        },
        {
          "name": "non-modular",
          "description": "éæ¨¡çµ„åŒ–é–‹ç™¼ - é©ç”¨æ–¼ç°¡å–®åŠŸèƒ½ï¼Œæª”æ¡ˆåˆ†æ•£åœ¨å„ç›®éŒ„ä¸‹",
          "structure": [
            "src/api/{feature}.js",
            "src/models/{Feature}Model.js",
            "src/router/modules/{feature}.js",
            "src/views/{feature}/",
            "src/locales/*.json"
          ]
        }
      ]
    },
    {
      "name": "5. å»ºç«‹åŠŸèƒ½åˆ†æ”¯",
      "description": "å¾ master åˆ†æ”¯åˆ‡å‡ºæ–°çš„åŠŸèƒ½åˆ†æ”¯",
      "run": [
        "git checkout master",
        "git pull origin master",
        "BRANCH_NAME=feat/${feature_name}",
        "echo \"å»ºç«‹åŠŸèƒ½åˆ†æ”¯: $BRANCH_NAME\"",
        "git checkout -b $BRANCH_NAME"
      ]
    },
    {
      "name": "6. é–‹ç™¼åŠŸèƒ½ - API å±¤",
      "description": "å»ºç«‹ API Resource å±¤ï¼Œä½¿ç”¨ useResource hook",
      "tasks": [
        "æ ¹æ“š SD æ–‡ä»¶ä¸­çš„ API ç«¯é»å»ºç«‹ Resource",
        "ä½¿ç”¨ useResource å¯¦ç¾æ¨™æº– CRUD æ–¹æ³• (list, get, post, patch, put, destroy, selectAll)",
        "å¦‚æœ‰ç‰¹æ®Š API æ–¹æ³•ï¼Œé¡å¤–æ·»åŠ è‡ªå®šç¾©æ–¹æ³•"
      ],
      "example": {
        "modular": "src/@core/modules/{feature}/api/restful/{feature}.js",
        "non-modular": "src/api/{feature}.js"
      }
    },
    {
      "name": "7. é–‹ç™¼åŠŸèƒ½ - Model å±¤",
      "description": "å»ºç«‹è³‡æ–™æ¨¡å‹ï¼Œå®šç¾©æ¬„ä½çµæ§‹",
      "tasks": [
        "æ ¹æ“š SD æ–‡ä»¶ä¸­çš„è³‡æ–™çµæ§‹å»ºç«‹ Model",
        "å®šç¾©æ‰€æœ‰æ¬„ä½åŠé è¨­å€¼",
        "å»ºç«‹ ViewModel ç”¨æ–¼ API å›æ‡‰è³‡æ–™è™•ç†",
        "æ›´æ–° models/index.js åŒ¯å‡ºæ¨¡å‹ (éæ¨¡çµ„åŒ–)"
      ],
      "example": {
        "modular": "src/@core/modules/{feature}/models/modules/{Feature}Model.js",
        "non-modular": "src/models/{Feature}Model.js"
      }
    },
    {
      "name": "8. é–‹ç™¼åŠŸèƒ½ - Router å±¤",
      "description": "å»ºç«‹è·¯ç”±é…ç½®",
      "tasks": [
        "å»ºç«‹è·¯ç”±æ¨¡çµ„æª”æ¡ˆ",
        "å®šç¾©çˆ¶è·¯ç”±å’Œå­è·¯ç”± (List, Create, Edit)",
        "è¨­å®šæ¬Šé™æ§åˆ¶ (permissions)",
        "è¨­å®š i18n æ¨™é¡Œå’Œåœ–ç¤º"
      ],
      "example": {
        "modular": "src/@core/modules/{feature}/router/modules/{feature}.js",
        "non-modular": "src/router/modules/{feature}.js"
      }
    },
    {
      "name": "9. é–‹ç™¼åŠŸèƒ½ - View å±¤",
      "description": "å»ºç«‹æ‰€æœ‰è¦–åœ–é é¢å’Œå…ƒä»¶",
      "tasks": [
        "å»ºç«‹ List é é¢ (ä½¿ç”¨ vxe-server-table)",
        "å»ºç«‹ Create é é¢",
        "å»ºç«‹ Edit é é¢",
        "å»ºç«‹ Detail å…ƒä»¶ (è™•ç† create/edit é‚è¼¯)",
        "å»ºç«‹ Form å…ƒä»¶ (è¡¨å–®æ¬„ä½)",
        "å»ºç«‹ SearchBlock å…ƒä»¶ (æœå°‹éæ¿¾)"
      ],
      "components": [
        "{Feature}List.vue - åˆ—è¡¨é ",
        "{Feature}Create.vue - æ–°å¢é ",
        "{Feature}Edit.vue - ç·¨è¼¯é ",
        "components/{Feature}Detail.vue - è©³æƒ…å…ƒä»¶",
        "components/{Feature}Form.vue - è¡¨å–®å…ƒä»¶",
        "components/{Feature}ListSearchBlock.vue - æœå°‹å…ƒä»¶"
      ]
    },
    {
      "name": "10. æ·»åŠ åœ‹éš›åŒ–ç¿»è­¯",
      "description": "ç‚ºæ‰€æœ‰æ”¯æ´çš„èªè¨€æ·»åŠ ç¿»è­¯",
      "languages": [
        "zh-TW (ç¹é«”ä¸­æ–‡)",
        "en (è‹±æ–‡)"
      ],
      "tasks": [
        "åœ¨ g.common å€å¡Šæ·»åŠ åŠŸèƒ½åç¨±ç¿»è­¯",
        "æ·»åŠ åŠŸèƒ½å°ˆå±¬ç¿»è­¯å€å¡Š (title, detail.title, form.*, create, edit)"
      ],
      "files": [
        "src/locales/zh-TW.json",
        "src/locales/en.json"
      ]
    },
    {
      "name": "11. è¨»å†Šè·¯ç”±",
      "description": "å°‡è·¯ç”±æ¨¡çµ„è¨»å†Šåˆ°ä¸»è·¯ç”±é…ç½®",
      "tasks": [
        "åœ¨ src/router/index.js å°å…¥è·¯ç”±æ¨¡çµ„",
        "å°‡è·¯ç”±æ·»åŠ åˆ° asyncRoutes é™£åˆ—ä¸­"
      ],
      "file": "src/router/index.js"
    },
    {
      "name": "13. Commit è®Šæ›´",
      "description": "æäº¤æ‰€æœ‰è®Šæ›´åˆ° Git",
      "run": [
        "git add .",
        "git status",
        "echo ''",
        "echo '=== æº–å‚™å»ºç«‹ Commit ==='",
        "echo 'Commit è¨Šæ¯æ ¼å¼: feat({feature_name}): æ–°å¢{åŠŸèƒ½ä¸­æ–‡åç¨±}åŠŸèƒ½'",
        "echo ''",
        "echo 'åŒ…å«ä»¥ä¸‹æª”æ¡ˆï¼š'",
        "echo '- API å±¤'",
        "echo '- Model å±¤'",
        "echo '- Router å±¤'",
        "echo '- View å±¤ (List/Create/Edit/Components)'",
        "echo '- i18n ç¿»è­¯ (6ç¨®èªè¨€)'",
        "echo ''",
        "git commit -m \"feat(${feature_name}): æ–°å¢åŠŸèƒ½\n\nğŸ¤– Generated with Claude Code\n\nCo-Authored-By: Claude <noreply@anthropic.com>\""
      ]
    }
  ],
  "notes": {
    "feature_structure": {
      "modular": {
        "description": "é©ç”¨æ–¼è¤‡é›œåŠŸèƒ½ï¼Œå…·æœ‰å®Œæ•´çš„æ¥­å‹™é‚è¼¯",
        "location": "src/@core/modules/{feature}/",
        "folders": [
          "api/restful/",
          "models/modules/",
          "router/modules/",
          "views/{feature}-list/"
        ]
      },
      "non-modular": {
        "description": "é©ç”¨æ–¼ç°¡å–®çš„ CRUD åŠŸèƒ½æˆ–åŸºç¤è¨­å®š",
        "locations": [
          "src/api/{feature}.js",
          "src/models/{Feature}Model.js",
          "src/router/modules/{feature}.js",
          "src/views/{feature}/"
        ]
      }
    },
    "key_patterns": {
      "api": "ä½¿ç”¨ useResource hook å¯¦ç¾æ¨™æº– CRUD",
      "model": "å®šç¾©æ¬„ä½çµæ§‹åŠé è¨­å€¼",
      "router": "åŒ…å« List/Create/Edit ä¸‰å€‹è·¯ç”±",
      "views": "ä½¿ç”¨ vxe-server-table å±•ç¤ºåˆ—è¡¨",
      "i18n": "éœ€æ”¯æ´ 6 ç¨®èªè¨€",
      "permissions": "æ¯å€‹æ“ä½œéƒ½éœ€è¦æ¬Šé™æ§åˆ¶"
    },
    "checklist": [
      "âœ… API æ–‡ä»¶å·²è®€å–ä¸¦ç†è§£",
      "âœ… é–‹ç™¼æ¨¡å¼å·²é¸æ“‡ (æ¨¡çµ„åŒ–/éæ¨¡çµ„åŒ–)",
      "âœ… API å±¤å·²å¯¦ç¾",
      "âœ… Model å±¤å·²å»ºç«‹",
      "âœ… Router å·²é…ç½®",
      "âœ… Views å·²é–‹ç™¼",
      "âœ… i18n ç¿»è­¯å·²å®Œæˆ (6ç¨®èªè¨€)",
      "âœ… Router å·²è¨»å†Š",
      "âœ… å»ºç½®æ¸¬è©¦é€šé",
      "âœ… Git commit å®Œæˆ",
      "âœ… Push åˆ°é ç«¯",
      "âœ… PR å·²å»ºç«‹"
    ]
  }
}
